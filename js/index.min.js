function getHighlightedProducts(){try{fetch("/products/highlighted",{headers:{"Content-Type":"application/json"},method:"GET"}).then((function(e){if(e.ok)return e.json();throw"La peticiÃ³ no s'ha pogut realitzar"})).then((function(e){if("00"!=e.codi)throw e.resposta;{var t=document.querySelector("#carousel-inner");let n=document.querySelector("#carousel-indicators");i=0,e.products.forEach((e=>{let c=document.createElement("div");c.className="item",0==i&&c.classList.add("active");let o=document.createElement("div");o.className="carousel-container";let l=document.createElement("img");l.src=e.image,l.style="width:100%",o.appendChild(l);let a=document.createElement("div");a.className="text",a.innerText=e.name,o.appendChild(a),c.appendChild(o),t.appendChild(c);let r=document.createElement("li");0==i&&r.classList.add("active"),n.appendChild(r),i+=1})),setCarousel()}})).catch((function(e){alert(e)}))}catch(e){alert(e)}}function setCarousel(){var e=document.querySelectorAll(".carousel .item"),t=document.querySelectorAll(".carousel-indicators li"),n=0,c=!0;function i(i){c=!1,e[n].classList.add(i),t[n].classList.remove("active"),e[n].addEventListener("animationend",(function(){this.classList.remove("active",i)}))}function o(i){e[n].classList.add("next",i),t[n].classList.add("active"),e[n].addEventListener("animationend",(function(){this.classList.remove("next",i),this.classList.add("active"),c=!0}))}document.querySelector(".carousel-control.left").onclick=function(){if(c){let t=n;i("to-right"),n=(t-1+e.length)%e.length,o("from-left")}},document.querySelector(".carousel-control.right").onclick=function(){if(c){let t=n;i("to-left"),n=(t+1+e.length)%e.length,o("from-right")}},document.querySelector(".carousel-indicators").onclick=function(e){var c=[].slice.call(e.target.parentNode.children).indexOf(e.target);c!==n&&c<t.length&&(c<n?(i("to-right"),n=c,o("from-left")):(i("to-left"),n=c,o("from-right")))},(e.length<=1||t.length<=1)&&$(".carousel-control").hide(),setTimeout((function t(){if(c&&e.length>1){let t=n;i("to-left"),n=(t+1+e.length)%e.length,o("from-right")}setTimeout(t,4e3)}),4e3)}$(document).ready((function(){getProducts()}));